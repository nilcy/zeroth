<?xml version='1.0' encoding='UTF-8'?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" template="_default.xhtml">
  <f:metadata>
    <f:viewParam id="page" name="page" value="#{memberAction.page}" label="page">
      <f:validateLongRange minimum="0" />
    </f:viewParam>
  </f:metadata>
  <ui:define name="header">
    <h2>
      <h:outputText value="#{bundle.Member}" />
      <small><h:outputText value="#{bundle.Title_list}" /></small>
    </h2>
  </ui:define>
  <ui:define name="article">
    <h:form>
      <h:outputText escape="false" value="#{bundle.ListEmpty}" rendered="#{empty memberAction.items}" />
      <h:panelGroup rendered="#{not empty memberAction.items}">
        <h:dataTable value="#{memberAction.items}" var="item" styleClass="table">
          <f:facet name="caption">
            <ui:include src="/WEB-INF/templates/navi-pagination.xhtml">
              <ui:param name="entityAction" value="#{memberAction}" />
            </ui:include>
          </f:facet>
          <h:column>
            <f:facet name="header">
              <h:outputText value="#{bundle.Staff_familyName}" />
            </f:facet>
            <h:outputText value="#{item.familyName}" />
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="#{bundle.Staff_givenName}" />
            </f:facet>
            <h:outputText value="#{item.givenName}" />
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="#{bundle.Staff_familyAlias}" />
            </f:facet>
            <h:outputText value="#{item.familyAlias}" />
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="#{bundle.Staff_givenAlias}" />
            </f:facet>
            <h:outputText value="#{item.givenAlias}" />
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="#{bundle.Member_organ}" />
            </f:facet>
            <h:outputText value="#{item.organ.name}" />
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="#{bundle.Member_title}" />
            </f:facet>
            <h:outputText value="#{item.title.name}" />
          </h:column>
          <h:column>
            <f:facet name="header">
              <h:outputText value="#{bundle.Member_level}" />
            </f:facet>
            <h:outputText value="#{item.level.name}" />
          </h:column>
          <h:column>
            <ui:include src="/WEB-INF/templates/navi-record.xhtml">
              <ui:param name="outcome" value="member" />
            </ui:include>
          </h:column>
          <f:facet name="footer" />
        </h:dataTable>
      </h:panelGroup>
      <ui:include src="/WEB-INF/templates/navi-home.xhtml">
        <ui:param name="outcome" value="member" />
      </ui:include>
    </h:form>
  </ui:define>
</ui:composition>
